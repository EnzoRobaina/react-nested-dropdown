{"version":3,"file":"index.js","sources":["../src/hooks/use-click-away.ts","../src/components/dropdown/utils.ts","../src/components/dropdown/index.tsx"],"sourcesContent":["import { RefObject, useEffect, useRef } from 'react';\r\n\r\nconst defaultEvents = ['mousedown', 'touchstart'];\r\n\r\nexport function useClickAway(\r\n  ref: RefObject<HTMLElement | null>,\r\n  onClickAway: (event: Event) => void,\r\n  events: string[] = defaultEvents,\r\n): void {\r\n  const savedCallback = useRef(onClickAway);\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = onClickAway;\r\n  }, [onClickAway]);\r\n\r\n  useEffect(() => {\r\n    function handler(event: Event): void {\r\n      const { current: el } = ref;\r\n      if (el && !el.contains(event.target as Node)) {\r\n        savedCallback.current(event);\r\n      }\r\n    }\r\n\r\n    events.forEach(eventName => {\r\n      document.addEventListener(eventName, handler);\r\n    });\r\n\r\n    return () => {\r\n      events.forEach(eventName => {\r\n        document.removeEventListener(eventName, handler);\r\n      });\r\n    };\r\n  }, [events, ref]);\r\n}\r\n","import clsx from 'clsx';\r\n\r\nexport function getMenuPositionClassName(element: HTMLElement) {\r\n  const rect = element.getBoundingClientRect();\r\n  const isBottomOverflow = rect.bottom > window.innerHeight && rect.top > rect.height;\r\n  const isLeftOverflow = rect.left < 0;\r\n  const isRightOverflow = rect.right > window.innerWidth;\r\n  const isTopOverflow = rect.top < 0;\r\n\r\n  const className = clsx({\r\n    'rnd__menu--top': isBottomOverflow,\r\n    'rnd__menu--bottom': isTopOverflow,\r\n    'rnd__menu--right': isLeftOverflow,\r\n    'rnd__menu--left': isRightOverflow,\r\n  });\r\n\r\n  return className;\r\n}\r\n","import clsx from 'clsx';\r\nimport React, {\r\n  ReactElement,\r\n  ReactNode,\r\n  UIEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  InputHTMLAttributes,\r\n} from 'react';\r\nimport { useClickAway } from '~/hooks/use-click-away';\r\nimport { getMenuPositionClassName } from './utils';\r\nimport _debounce from 'lodash/debounce';\r\n\r\nexport interface DropdownItem<TValue = undefined> {\r\n  label: string;\r\n  iconBefore?: ReactNode;\r\n  iconAfter?: ReactNode;\r\n  items?: DropdownItem<TValue>[];\r\n  itemsContainerWidth?: number | string;\r\n  value?: TValue;\r\n  onSelect?: () => void;\r\n  disabled?: boolean;\r\n  className?: string;\r\n  selected?: boolean;\r\n  renderInput?: (props: InputProps) => React.ReactNode;\r\n  debounce?: number;\r\n}\r\n\r\nexport interface DropdownProps<TValue> {\r\n  items: DropdownItem<TValue>[];\r\n  containerWidth?: number | string;\r\n  onSelect?: (value: TValue, option: DropdownItem<TValue>) => void;\r\n  children: (params: { onClick: () => void; isOpen: boolean }) => ReactElement;\r\n  className?: string;\r\n  renderOption?: (option: DropdownItem<TValue>) => ReactNode;\r\n  closeOnScroll?: boolean;\r\n}\r\n\r\nexport const Dropdown = <TValue,>({\r\n  items,\r\n  containerWidth = 300,\r\n  onSelect,\r\n  children,\r\n  className,\r\n  renderOption,\r\n  closeOnScroll = true,\r\n}: DropdownProps<TValue>): React.ReactElement => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [menuPositionClassName, setMenuPositionClassName] = useState<string>('');\r\n  const [dropdownIsOpen, setDropdownOpen] = useState(false);\r\n\r\n  const toggleDropdown = useCallback(() => setDropdownOpen(state => !state), []);\r\n  const closeDropdown = useCallback(() => setDropdownOpen(false), []);\r\n\r\n  const childrenProps = useMemo(() => {\r\n    return {\r\n      isOpen: dropdownIsOpen,\r\n      onClick: toggleDropdown,\r\n    };\r\n  }, [dropdownIsOpen, toggleDropdown]);\r\n\r\n  const handleSelect = useCallback(\r\n    (item: DropdownItem<TValue>) => {\r\n      if (item.disabled) {\r\n        return;\r\n      }\r\n\r\n      if (item.onSelect) {\r\n        item.onSelect();\r\n      } else if (item.value !== undefined && onSelect) {\r\n        onSelect(item.value, item);\r\n      }\r\n      closeDropdown();\r\n    },\r\n    [closeDropdown, onSelect],\r\n  );\r\n\r\n  useClickAway(containerRef, closeDropdown);\r\n\r\n  const scrollListener = useCallback(\r\n    (e: Event) => {\r\n      const el = e.target as HTMLElement | null;\r\n      if (!el?.classList?.contains('rnd__menu')) {\r\n        closeDropdown();\r\n      }\r\n    },\r\n    [closeDropdown],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (dropdownIsOpen && closeOnScroll) {\r\n      document.addEventListener('scroll', scrollListener, true);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('scroll', scrollListener, true);\r\n    };\r\n  }, [dropdownIsOpen]);\r\n\r\n  const rootMenuRef = useRef<HTMLUListElement>(null);\r\n\r\n  useLayoutEffect(() => {\r\n    if (dropdownIsOpen && rootMenuRef.current) {\r\n      setMenuPositionClassName(getMenuPositionClassName(rootMenuRef.current));\r\n    }\r\n    return () => {\r\n      if (dropdownIsOpen) {\r\n        setMenuPositionClassName('');\r\n      }\r\n    };\r\n  }, [dropdownIsOpen]);\r\n\r\n  return (\r\n    <div className={clsx('rnd', className)} ref={containerRef}>\r\n      {children(childrenProps)}\r\n      {dropdownIsOpen && (\r\n        <ul\r\n          className={`rnd__root-menu rnd__menu ${menuPositionClassName}`}\r\n          style={{ width: containerWidth }}\r\n          ref={rootMenuRef}\r\n        >\r\n          {items.map((item, index) => (\r\n            <Option {...item} key={index} option={item} onSelect={handleSelect} renderOption={renderOption}  />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const DefaultInput = ({ value, mounted, ...rest }: InputProps) => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (mounted && inputRef.current) {\r\n      setTimeout(() => {\r\n        inputRef!.current!.focus();\r\n      }, 10);\r\n    }\r\n  }, [mounted]);\r\n\r\n  return (\r\n    <input\r\n      style={{\r\n        maxWidth: '100%',\r\n      }}\r\n      value={value}\r\n      {...rest}\r\n      ref={inputRef}\r\n      type=\"text\"\r\n      placeholder=\"Search...\"\r\n      className=\"rnd__search\"\r\n    />\r\n  );\r\n};\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  mounted?: boolean;\r\n}\r\n\r\ninterface OptionProps<TValue> {\r\n  option: DropdownItem<TValue>;\r\n  onSelect: (item: DropdownItem<TValue>) => void;\r\n  renderOption?: (option: DropdownItem<TValue>) => React.ReactNode;\r\n  renderInput?: (props: InputProps) => React.ReactNode;\r\n  debounce?: number;\r\n}\r\n\r\nconst Option = <TValue,>({\r\n  option,\r\n  onSelect,\r\n  renderOption,\r\n  renderInput,\r\n  debounce = 100,\r\n}: OptionProps<TValue>): React.ReactElement => {\r\n  const items = option.items;\r\n  const hasSubmenu = !!items;\r\n  const itemsContainerWidth = option.itemsContainerWidth ?? 150;\r\n  const [menuPositionClassName, setMenuPositionClassName] = useState<string>('');\r\n  const [submenuIsOpen, setSubmenuOpen] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [, setRenderTrigger] = useState(false);\r\n\r\n  const handleClick = useCallback(\r\n    (e: UIEvent) => {\r\n      if (hasSubmenu) return;\r\n\r\n      e.stopPropagation();\r\n      onSelect(option);\r\n    },\r\n    [hasSubmenu, onSelect, option],\r\n  );\r\n\r\n  const submenuRef = useRef<HTMLUListElement>(null);\r\n\r\n  useEffect(() => {\r\n    const submenuElement = submenuRef.current;\r\n\r\n    const observer = new ResizeObserver(entries => {\r\n      entries.forEach(entry => {\r\n        const isHTMLElement = entry.target instanceof HTMLElement;\r\n        if (isHTMLElement) {\r\n          setSubmenuOpen(entry.target.offsetWidth > 0);\r\n          setMenuPositionClassName(getMenuPositionClassName(entry.target));\r\n        }\r\n      });\r\n    });\r\n\r\n    if (submenuElement) {\r\n      observer.observe(submenuElement);\r\n    }\r\n\r\n    return () => {\r\n      if (submenuElement) {\r\n        observer.unobserve(submenuElement);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const iconAfter = option.iconAfter ? option.iconAfter : hasSubmenu ? chevronNode : null;\r\n\r\n  const _handleChange = (value: string) => {\r\n    setSearchValue(value);\r\n    debounceFilter();\r\n  };\r\n\r\n  const debounceFilter = useMemo(\r\n    () => _debounce(() => setRenderTrigger(prev => !prev), debounce),\r\n    [debounce],\r\n  );\r\n\r\n  const filteredList = useMemo(\r\n    () =>\r\n      (searchValue\r\n        ? items?.filter(item =>\r\n            item.label.trim().toLowerCase().includes(searchValue.trim().toLowerCase()),\r\n          )\r\n        : items) ?? [],\r\n    [items, searchValue],\r\n  );\r\n\r\n  return (\r\n    <li\r\n      className={clsx('rnd__option', option.className, {\r\n        'rnd__option--disabled': option.disabled,\r\n        'rnd__option--with-menu': hasSubmenu,\r\n      })}\r\n      onMouseDown={handleClick}\r\n      onKeyUp={handleClick}\r\n    >\r\n      {hasSubmenu && (\r\n        <ul\r\n          className={clsx(`rnd__menu rnd__submenu ${menuPositionClassName}`, {\r\n            'rnd__submenu--opened': submenuIsOpen,\r\n          })}\r\n          ref={submenuRef}\r\n          style={{ width: itemsContainerWidth }}\r\n        >\r\n          {renderInput &&\r\n            renderInput({\r\n              value: searchValue,\r\n              onChange: e => _handleChange(e.currentTarget.value),\r\n              mounted: submenuIsOpen,\r\n            })}\r\n\r\n          {filteredList.map((item, index) => (\r\n            <Option key={index} option={item} onSelect={onSelect} renderOption={renderOption} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {renderOption && renderOption(option)}\r\n      {!renderOption && (\r\n        <>\r\n          {option.iconBefore && (\r\n            <div className=\"rnd__option-icon rnd__option-icon--left\">{option.iconBefore}</div>\r\n          )}\r\n          <p className=\"rnd__option-label\">{option.label}</p>\r\n          {iconAfter && <div className=\"rnd__option-icon rnd__option-icon--right\">{iconAfter}</div>}\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nconst chevronNode = (\r\n  <div\r\n    style={{\r\n      border: '5px solid currentColor',\r\n      borderRightColor: 'transparent',\r\n      borderBottomColor: 'transparent',\r\n      borderTopColor: 'transparent',\r\n      width: 0,\r\n      height: 0,\r\n    }}\r\n  />\r\n);\r\n"],"names":["useRef","useEffect","useState","useCallback","useMemo","useLayoutEffect"],"mappings":"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"}